function FormatCurrency(e){if(gf_vars.gf_currency_config){var t=new Currency(gf_vars.gf_currency_config).toMoney(jQuery(e).val());jQuery(e).val(t)}}function ToggleConditionalLogic(e,t){var i=e?"":"slow";jQuery("#"+t+"_conditional_logic").is(":checked")?(CreateConditionalLogic(t,GetConditionalObject(t)),SetConditionalProperty(t,"actionType",jQuery("#"+t+"_action_type").val()),SetConditionalProperty(t,"logicType",jQuery("#"+t+"_logic_type").val()),SetRule(t,0),jQuery("#"+t+"_conditional_logic_container").show(i)):jQuery("#"+t+"_conditional_logic_container").hide(i)}function GetConditionalObject(e){var t=!1;switch(e){case"page":case"field":t=GetSelectedField();break;case"next_button":t=GetSelectedField().nextButton;break;case"confirmation":t=confirmation;break;case"notification":t=current_notification;break;default:t="undefined"!=typeof form&&form.button}return t=gform.applyFilters("gform_conditional_object",t,e)}function CreateConditionalLogic(e,t){t.conditionalLogic||(t.conditionalLogic=new ConditionalLogic);var i,r="hide"==t.conditionalLogic.actionType?"selected='selected'":"",n="show"==t.conditionalLogic.actionType?"selected='selected'":"",o="all"==t.conditionalLogic.logicType?"selected='selected'":"",a="any"==t.conditionalLogic.logicType?"selected='selected'":"";i="section"==t.type?gf_vars.thisSectionIf:"field"==e?gf_vars.thisFieldIf:"page"==e?gf_vars.thisPage:"confirmation"==e?gf_vars.thisConfirmation:"notification"==e?gf_vars.thisNotification:gf_vars.thisFormButton;var l={};l.actionType="<select id='"+e+"_action_type' onchange='SetConditionalProperty(\""+e+"\", \"actionType\", jQuery(this).val());'><option value='show' "+n+">"+gf_vars.show+"</option><option value='hide' "+r+">"+gf_vars.hide+"</option></select>",l.objectDescription=i,l.logicType="<select id='"+e+"_logic_type' onchange='SetConditionalProperty(\""+e+"\", \"logicType\", jQuery(this).val());'><option value='all' "+o+">"+gf_vars.all+"</option><option value='any' "+a+">"+gf_vars.any+"</option></select>",l.ofTheFollowingMatch=gf_vars.ofTheFollowingMatch;var s,u,c=makeArray(l).join(" ");for(c=gform.applyFilters("gform_conditional_logic_description",c,l,e,t),s=0;s<t.conditionalLogic.rules.length;s++)c+="<div width='100%' class='gf_conditional_logic_rules_container'>",c+=GetRuleFields(e,s,(u=t.conditionalLogic.rules[s]).fieldId),c+=GetRuleOperators(e,s,u.fieldId,u.operator),c+=GetRuleValues(e,s,u.fieldId,u.value),c+="<a class='add_field_choice' title='add another rule' onclick=\"InsertRule('"+e+"', "+(s+1)+');" onkeypress="InsertRule(\''+e+"', "+(s+1)+");\" ><i class='gficon-add'></i></a>",1<t.conditionalLogic.rules.length&&(c+="<a class='delete_field_choice' title='remove this rule' onclick=\"DeleteRule('"+e+"', "+s+');" onkeypress="DeleteRule(\''+e+"', "+s+");\" ><i class='gficon-subtract'></i></a></li>"),c+="</div>";jQuery("#"+e+"_conditional_logic_container").html(c),Placeholders.enable()}function GetRuleOperators(e,t,i,r){var n,o,a;return o={is:"is",isnot:"isNot",">":"greaterThan","<":"lessThan",contains:"contains",starts_with:"startsWith",ends_with:"endsWith"},n="<select id='"+e+"_rule_operator_"+t+"' class='gfield_rule_select' onchange='SetRuleProperty(\""+e+'", '+t+', "operator", jQuery(this).val());var valueSelector="#'+e+"_rule_value_"+t+'"; jQuery(valueSelector).replaceWith(GetRuleValues("'+e+'", '+t+',"'+i+'", ""));jQuery(valueSelector).change();\'>',a=IsEntryMeta(i)?GetOperatorsForMeta(o,i):o,a=gform.applyFilters("gform_conditional_logic_operators",a,e,i),jQuery.each(a,function(e,t){n+="<option value='"+e+"' "+(r==e?"selected='selected'":"")+">"+gf_vars[t]+"</option>"}),n+="</select>"}function GetOperatorsForMeta(e,i){var r={};return entry_meta[i]&&entry_meta[i].filter&&entry_meta[i].filter.operators?jQuery.each(e,function(e,t){0<=jQuery.inArray(e,entry_meta[i].filter.operators)&&(r[e]=t)}):r=e,r}function GetRuleFields(e,t,i){for(var r="<select id='"+e+"_rule_field_"+t+"' class='gfield_rule_select' onchange='jQuery(\"#"+e+"_rule_operator_"+t+'").replaceWith(GetRuleOperators("'+e+'", '+t+', jQuery(this).val()));jQuery("#'+e+"_rule_value_"+t+'").replaceWith(GetRuleValues("'+e+'", '+t+', jQuery(this).val())); SetRule("'+e+'", '+t+"); '>",n=[],o=0;o<form.fields.length;o++){var a=form.fields[o];if(IsConditionalLogicField(a))if(a.inputs&&-1==jQuery.inArray(GetInputType(a),["checkbox","email","consent"]))for(var l=0;l<a.inputs.length;l++){var s=a.inputs[l];s.isHidden||n.push({label:GetLabel(a,s.id),value:s.id})}else n.push({label:GetLabel(a),value:a.id})}return jQuery.merge(n,GetEntryMetaFields(i)),r+=GetRuleFieldsOptions(n=gform.applyFilters("gform_conditional_logic_fields",n,form,i),i),r+="</select>"}function GetRuleFieldsOptions(e,t){for(var i="",r=0;r<e.length;r++){var n=e[r];if(void 0!==n.options)i+='<optgroup label=" '+n.label+'">',i+=GetRuleFieldsOptions(n.options,t),i+="</optgroup>";else{var o=n.value==t?"selected='selected'":"";i+="<option value='"+n.value+"' "+o+">"+n.label+"</option>"}}return i}function GetEntryMetaFields(i){var r=[];return"undefined"==typeof entry_meta||jQuery.each(entry_meta,function(e,t){void 0!==t.filter&&r.push({label:t.label,value:e,isSelected:i==e?"selected='selected'":""})}),r}function IsConditionalLogicField(e){var t=e.inputType?e.inputType:e.type,i=GetConditionalLogicFields(),r=0<=jQuery.inArray(t,i);return r=gform.applyFilters("gform_is_conditional_logic_field",r,e)}function IsEntryMeta(e){return"undefined"!=typeof entry_meta&&void 0!==entry_meta[e]}function GetRuleValues(t,i,e,r,n){n||(n=!1);var o=0==n?t+"_rule_value_"+i:n;if(0==e&&(e=GetFirstRuleField()),0==e)return"";var a=GetFieldById(e),l=IsEntryMeta(e),s=GetConditionalObject(t).conditionalLogic.rules[i].operator,u="";if(a&&"post_category"==a.type&&a.displayAllCategories){var c=jQuery("#"+o+".gfield_category_dropdown");if(0<c.length){var g=c.html();g=(g=g.replace(/ selected="selected"/g,"")).replace('value="'+r+'"','value="'+r+'" selected="selected"'),u="<select id='"+o+"' class='gfield_rule_select gfield_rule_value_dropdown gfield_category_dropdown'>"+g+"</select>"}else{var d=0==n?"gfield_ajax_placeholder_"+i:n+"_placeholder";jQuery.post(ajaxurl,{action:"gf_get_post_categories",objectType:t,ruleIndex:i,inputName:n,selectedValue:r},function(e){e&&(jQuery("#"+d).replaceWith(e.trim()),SetRuleProperty(t,i,"value",jQuery("#"+o).val()))}),u="<select id='"+d+"' class='gfield_rule_select'><option>"+gf_vars.loading+"</option></select>"}}else if(a&&a.choices&&-1<jQuery.inArray(s,["is","isnot"])){u=GetRuleValuesDropDown(a.placeholder?[{text:a.placeholder,value:""}].concat(a.choices):a.choices,t,i,r,n)}else u=IsAddressSelect(e,a)?(jQuery.post(ajaxurl,{action:"gf_get_address_rule_values_select",address_type:a.addressType?a.addressType:gf_vars.defaultAddressType,value:r,id:o,form_id:a.formId},function(e){e&&($select=jQuery(e.trim()),$placeholder=jQuery("#"+o),$placeholder.replaceWith($select),SetRuleProperty(t,i,"value",$select.val()))}),"<select id='"+o+"' class='gfield_rule_select'><option>"+gf_vars.loading+"</option></select>"):l&&entry_meta&&entry_meta[e]&&entry_meta[e].filter&&void 0!==entry_meta[e].filter.choices?GetRuleValuesDropDown(entry_meta[e].filter.choices,t,i,r,n):(r=r?r.replace(/'/g,"&#039;"):"","<input type='text' placeholder='"+gf_vars.enterValue+"' class='gfield_rule_select gfield_rule_input' id='"+o+"' name='"+o+"' value='"+r.replace(/'/g,"&#039;")+"' onchange='SetRuleProperty(\""+t+'", '+i+', "value", jQuery(this).val());\' onkeyup=\'SetRuleProperty("'+t+'", '+i+', "value", jQuery(this).val());\'>');return u=gform.applyFilters("gform_conditional_logic_values_input",u,t,i,e,r)}function IsAddressSelect(e,t){if(!t||"address"!=GetInputType(t))return!1;var i=t.addressType?t.addressType:gf_vars.defaultAddressType;if(!gf_vars.addressTypes[i])return!1;var r=gf_vars.addressTypes[i],n=e==t.id+".6",o=e==t.id+".4";return n&&"international"==i||o&&"object"==typeof r.states}function GetFirstRuleField(){for(var e=0;e<form.fields.length;e++)if(IsConditionalLogicField(form.fields[e]))return form.fields[e].id;return 0}function GetRuleValuesDropDown(e,t,i,r,n){for(var o=0==n?t+"_rule_value_"+i:n,a="<select class='gfield_rule_select gfield_rule_value_dropdown' id='"+o+"' name='"+o+"'>",l=!1,s=0;s<e.length;s++){var u=void 0===e[s].value||null==e[s].value?e[s].text+"":e[s].value+"",c=u==r,g=c?"selected='selected'":"";c&&(l=!0),u=u.replace(/'/g,"&#039;");var d=""===jQuery.trim(jQuery("<div>"+e[s].text+"</div>").text())?u:e[s].text;a+="<option value='"+u.replace(/'/g,"&#039;")+"' "+g+">"+d+"</option>"}return!l&&r&&""!=r&&(a+="<option value='"+r.replace(/'/g,"&#039;")+"' selected='selected'>"+r+"</option>"),a+="</select>"}function isEmpty(e){}function SetRuleProperty(e,t,i,r){GetConditionalObject(e).conditionalLogic.rules[t][i]=r}function GetFieldById(e){e=parseInt(e);for(var t=0;t<form.fields.length;t++)if(form.fields[t].id==e)return form.fields[t];return null}function SetConditionalProperty(e,t,i){GetConditionalObject(e).conditionalLogic[t]=i}function SetRuleValueDropDown(e){var t=e.attr("id").split("_rule_value_");t.length<2||SetRuleProperty(t[0],t[1],"value",e.val())}function InsertRule(e,t){var i=GetConditionalObject(e);i.conditionalLogic.rules.splice(t,0,new ConditionalRule),CreateConditionalLogic(e,i),SetRule(e,t)}function SetRule(e,t){SetRuleProperty(e,t,"fieldId",jQuery("#"+e+"_rule_field_"+t).val()),SetRuleProperty(e,t,"operator",jQuery("#"+e+"_rule_operator_"+t).val()),SetRuleProperty(e,t,"value",jQuery("#"+e+"_rule_value_"+t).val())}function DeleteRule(e,t){var i=GetConditionalObject(e);i.conditionalLogic.rules.splice(t,1),CreateConditionalLogic(e,i)}function TruncateRuleText(e){return!e||e.length<=18?e:e.substr(0,9)+"..."+e.substr(e.length-8,9)}function gfAjaxSpinner(e,t,i){return t=void 0!==t&&t?t:gf_vars.baseUrl+"/images/spinner.gif",i=void 0!==i?i:"",this.elem=e,this.image='<img class="gfspinner" src="'+t+'" style="'+i+'" />',this.init=function(){return this.spinner=jQuery(this.image),jQuery(this.elem).after(this.spinner),this},this.destroy=function(){jQuery(this.spinner).remove()},this.init()}function InsertVariable(e,t,i){i||(i=jQuery("#"+e+"_variable_select").val());var r=document.getElementById(e),n=jQuery(r);if(document.selection)n[0].focus(),document.selection.createRange().text=i;else if("selectionStart"in r){var o=r.selectionStart;r.value=r.value.substr(0,o)+i+r.value.substr(r.selectionEnd,r.value.length),r.selectionStart=o+r.value.length,r.selectionEnd=o+r.value.length}else n.val(i+messageElement.val());var a=jQuery("#"+e+"_variable_select");0<a.length&&(a[0].selectedIndex=0),t&&window[t]&&window[t].call(null,e,i)}function InsertEditorVariable(e,t){if(!t){var i=jQuery("#"+e+"_variable_select");i[0].selectedIndex=0,t=i.val()}wpActiveEditor=e,window.send_to_editor(t)}function GetInputType(e){return e.inputType?e.inputType:e.type}function HasPostField(){for(var e=0;e<form.fields.length;e++){var t=form.fields[e].type;if("post_title"==t||"post_content"==t||"post_excerpt"==t)return!0}return!1}function GetInput(e,t){if(void 0!==e.inputs&&jQuery.isArray(e.inputs))for(i in e.inputs)if(e.inputs.hasOwnProperty(i)){var r=e.inputs[i];if(r.id==t)return r}return null}function IsPricingField(e){return IsProductField(e)||"donation"==e}function IsProductField(e){return-1!=jQuery.inArray(e,["option","quantity","product","total","shipping","calculation"])}function GetLabel(e,t,i){void 0===t&&(t=0),void 0===i&&(i=!1);var r=GetInput(e,t),n="";return n=null!=e.adminLabel&&0<e.adminLabel.length?e.adminLabel:e.label,null!=r?i?r.label:n+" ("+r.label+")":n}function DeleteNotification(e){jQuery("#action_argument").val(e),jQuery("#action").val("delete"),jQuery("#notification_list_form")[0].submit()}function DuplicateNotification(e){jQuery("#action_argument").val(e),jQuery("#action").val("duplicate"),jQuery("#notification_list_form")[0].submit()}function DeleteConfirmation(e){jQuery("#action_argument").val(e),jQuery("#action").val("delete"),jQuery("#confirmation_list_form")[0].submit()}function DuplicateConfirmation(e){jQuery("#action_argument").val(e),jQuery("#action").val("duplicate"),jQuery("#confirmation_list_form")[0].submit()}function SetConfirmationConditionalLogic(){confirmation.conditionalLogic=jQuery("#conditional_logic").val()?jQuery.parseJSON(jQuery("#conditional_logic").val()):new ConditionalLogic}function ToggleConfirmation(){var e,t="",i=jQuery("#form_confirmation_redirect").is(":checked"),r=jQuery("#form_confirmation_show_page").is(":checked");i?(e=".form_confirmation_redirect_container",t="#form_confirmation_message_container, .form_confirmation_page_container",ClearConfirmationSettings(["text","page"])):r?(e=".form_confirmation_page_container",t="#form_confirmation_message_container, .form_confirmation_redirect_container",ClearConfirmationSettings(["text","redirect"])):(e="#form_confirmation_message_container",t=".form_confirmation_page_container, .form_confirmation_redirect_container",ClearConfirmationSettings(["page","redirect"])),ToggleQueryString(),TogglePageQueryString(),jQuery(t).hide(),jQuery(e).show()}function ToggleQueryString(){jQuery("#form_redirect_use_querystring").is(":checked")?jQuery("#form_redirect_querystring_container").show():(jQuery("#form_redirect_querystring_container").hide(),jQuery("#form_redirect_querystring").val(""),jQuery("#form_redirect_use_querystring").val(""))}function TogglePageQueryString(){jQuery("#form_page_use_querystring").is(":checked")?jQuery("#form_page_querystring_container").show():(jQuery("#form_page_querystring_container").hide(),jQuery("#form_page_querystring").val(""),jQuery("#form_page_use_querystring").val(""))}function ClearConfirmationSettings(e){var t=jQuery.isArray(e)?e:[e];for(i in t)if(t.hasOwnProperty(i))switch(t[i]){case"text":jQuery("#form_confirmation_message").val(""),jQuery("#form_disable_autoformatting").prop("checked",!1);break;case"page":jQuery("#form_confirmation_page").val(""),jQuery("#form_page_querystring").val(""),jQuery("#form_page_use_querystring").prop("checked",!1);break;case"redirect":jQuery("#form_confirmation_url").val(""),jQuery("#form_redirect_querystring").val(""),jQuery("#form_redirect_use_querystring").prop("checked",!1)}}function StashConditionalLogic(){var e=JSON.stringify(confirmation.conditionalLogic);jQuery("#conditional_logic").val(e)}function ConfirmationObj(){this.id=!1,this.name=gf_vars.confirmationDefaultName,this.type="message",this.message=gf_vars.confirmationDefaultMessage,this.isDefault=0}function Copy(e){if(!e)return e;if("object"!=typeof e)return e;for(i in e=jQuery.isArray(e)?e.slice():jQuery.extend({},e))e[i]=Copy(e[i]);return e}jQuery(document).ready(function(e){gaddon.init(),e(document).on("change",".gfield_rule_value_dropdown",function(){SetRuleValueDropDown(e(this))}),"undefined"!=typeof form&&0<=jQuery(".merge-tag-support").length&&jQuery(".merge-tag-support").each(function(){new gfMergeTagsObj(form,jQuery(this))}),window.form&&(window.gfMergeTags=new gfMergeTagsObj(form)),e(document).ready(function(){e(".gform_currency").bind("change",function(){FormatCurrency(this)}).each(function(){FormatCurrency(this)})})}),function(e,t,i){e.init=function(){f=window.form;void 0!==f&&f.id},e.toggleFeedActive=function(t,e,i){var r=0<=t.src.indexOf("active1.png")?0:1;return t.src=t.src.replace("active1.png","spinner.gif"),t.src=t.src.replace("active0.png","spinner.gif"),jQuery.post(ajaxurl,{action:"gf_feed_is_active_"+e,feed_id:i,is_active:r},function(e){r?(t.src=t.src.replace("spinner.gif","active1.png"),jQuery(t).attr("title",gf_vars.inactive).attr("alt",gf_vars.inactive)):(t.src=t.src.replace("spinner.gif","active0.png"),jQuery(t).attr("title",gf_vars.active).attr("alt",gf_vars.active))}),!0},e.deleteFeed=function(e){t("#single_action").val("delete"),t("#single_action_argument").val(e),t("#gform-settings").submit()},e.duplicateFeed=function(e){t("#single_action").val("duplicate"),t("#single_action_argument").val(e),t("#gform-settings").submit()}}(window.gaddon=window.gaddon||{},jQuery);var gfMergeTagsObj=function(e,t){var _=this;_.form=e,_.elem=t,_.init=function(){_.elem.data("mergeTags")||(_.mergeTagList=jQuery('<ul id="gf_merge_tag_list" class=""></ul>'),_.mergeTagListHover=!1,_.bindKeyDown(),_.initAutocomplete(),_.addMergeTagIcon(),_.mergeTagIcon.find("a.open-list").on("click.gravityforms",function(){var e=jQuery(this),t=_.getTargetElement(e);_.mergeTagList.html(""),_.mergeTagList.append(_.getMergeTagListItems(t)),_.mergeTagList.insertAfter(e).show()}),_.mergeTagList.hover(function(){_.mergeTagListHover=!0},function(){_.mergeTagListHover=!1}),jQuery("body").mouseup(function(){_.mergeTagListHover||_.mergeTagList.hide()}),_.elem.data("mergeTags",_))},_.destroy=function(e){(e=_.elem?_.elem:e).next(".all-merge-tags").remove(),e.off("keydown.gravityforms"),e.autocomplete("destroy"),e.data("mergeTags",null)},_.bindKeyDown=function(){_.elem.on("keydown.gravityforms",function(e){var t=!(!_.elem.data("autocomplete")||!_.elem.data("autocomplete").menu)&&_.elem.data("autocomplete").menu.active;e.keyCode===jQuery.ui.keyCode.TAB&&t&&e.preventDefault()})},_.initAutocomplete=function(){_.elem.autocomplete({minLength:1,focus:function(){return!1},source:function(e,t){var i=_.extractLast(e.term);i.length<_.elem.autocomplete("option","minLength")?t([]):t(jQuery.map(_.getAutoCompleteMergeTags(_.elem),function(e){return _.startsWith(e,i)?e:null}))},select:function(e,t){var i=this.value.split(" ");return i.pop(),i.push(t.item.value),this.value=i.join(" "),_.elem.trigger("input").trigger("propertychange"),!1}})},_.addMergeTagIcon=function(){var e=_.elem.is("input")?"input":"textarea",t=_.getClassProperty(_.elem,"position");if(_.mergeTagIcon=jQuery('<span class="all-merge-tags '+t+" "+e+'"><a class="open-list tooltip-merge-tag" title="'+gf_vars.mergeTagsTooltip+'"></a></span>'),_.mergeTagIcon.data("targetElement",_.elem.attr("id")),_.getClassProperty(_.elem,"manual_position")){var i=".mt-"+_.elem.attr("id");jQuery(i).append(_.mergeTagIcon)}else _.elem.after(_.mergeTagIcon);_.mergeTagIcon.find(".tooltip-merge-tag").tooltip({show:{delay:1250},content:function(){return jQuery(this).prop("title")}})},_.bindMergeTagListClick=function(e){_.mergeTagList.hide();var t=jQuery(e.target).data("value"),i=_.getTargetElement(e.target);_.isWpEditor(i)?InsertEditorVariable(i.attr("id"),t):InsertVariable(i.attr("id"),null,t),i.trigger("input").trigger("propertychange"),_.mergeTagList.hide()},this.getMergeTags=function(e,t,i,r,n,o){void 0===e&&(e=[]),void 0===r&&(r=[]);var a=[],l=[],s=[],u=[],c=[],g=[],d=[],f=[],p=[];if(i||u.push({tag:"{all_fields}",label:this.getMergeTagLabel("{all_fields}")}),!n){for(T in e)if(e.hasOwnProperty(T)){var _=e[T];if(!_.displayOnly){var y=GetInputType(_);if(-1==jQuery.inArray(y,r)){if(_.isRequired)switch(y){case"name":var m,v,h,j,Q=Copy(_);"extended"==_.nameFormat?(m=GetInput(_,_.id+".2"),h=GetInput(_,_.id+".8"),(j=Copy(_)).inputs=[m,h],l.push(j),delete Q.inputs[0],delete Q.inputs[3]):"advanced"==_.nameFormat&&(m=GetInput(_,_.id+".2"),v=GetInput(_,_.id+".4"),h=GetInput(_,_.id+".8"),(j=Copy(_)).inputs=[m,v,h],l.push(j),delete Q.inputs[0],delete Q.inputs[2],delete Q.inputs[4]),a.push(Q);break;default:a.push(_)}else l.push(_);IsPricingField(_.type)&&s.push(_)}}}if(0<a.length)for(T in a)a.hasOwnProperty(T)&&(c=c.concat(this.getFieldMergeTags(a[T],o)));if(0<l.length)for(T in l)l.hasOwnProperty(T)&&(g=g.concat(this.getFieldMergeTags(l[T],o)));if(0<s.length)for(T in i||d.push({tag:"{pricing_fields}",label:this.getMergeTagLabel("{pricing_fields}")}),s)s.hasOwnProperty(T)&&d.concat(this.getFieldMergeTags(s[T],o))}var b=["ip","date_mdy","date_dmy","embed_post:ID","embed_post:post_title","embed_url","entry_id","entry_url","form_id","form_title","user_agent","referer","post_id","post_edit_url","user:display_name","user:user_email","user:user_login"];for(var T in n&&(b.splice(b.indexOf("entry_id"),1),b.splice(b.indexOf("entry_url"),1),b.splice(b.indexOf("form_id"),1),b.splice(b.indexOf("form_title"),1)),HasPostField()&&!n||(b.splice(b.indexOf("post_id"),1),b.splice(b.indexOf("post_edit_url"),1)),b)-1==jQuery.inArray(b[T],r)&&f.push({tag:"{"+b[T]+"}",label:this.getMergeTagLabel("{"+b[T]+"}")});var C=this.getCustomMergeTags();if(0<C.tags.length)for(T in C.tags)if(C.tags.hasOwnProperty(T)){var w=C.tags[T];p.push({tag:w.tag,label:w.label})}var L={ungrouped:{label:this.getMergeGroupLabel("ungrouped"),tags:u},required:{label:this.getMergeGroupLabel("required"),tags:c},optional:{label:this.getMergeGroupLabel("optional"),tags:g},pricing:{label:this.getMergeGroupLabel("pricing"),tags:d},other:{label:this.getMergeGroupLabel("other"),tags:f},custom:{label:this.getMergeGroupLabel("custom"),tags:p}};return L=gform.applyFilters("gform_merge_tags",L,t,i,r,n,o,this)},this.getMergeTagLabel=function(e){for(groupName in gf_vars.mergeTags)if(gf_vars.mergeTags.hasOwnProperty(groupName)){var t=gf_vars.mergeTags[groupName].tags;for(i in t)if(t.hasOwnProperty(i)&&t[i].tag==e)return t[i].label}return""},this.getMergeGroupLabel=function(e){return gf_vars.mergeTags[e].label},this.getFieldMergeTags=function(e,t){void 0===t&&(t="");var r=[],n=GetInputType(e),o="list"==n?":"+t:"",a="",l="";if(-1<jQuery.inArray(n,["date","email","time","password"])&&(e.inputs=null),void 0!==e.inputs&&jQuery.isArray(e.inputs)){for(i in"checkbox"==n&&(a="{"+(l=GetLabel(e,e.id).replace("'","\\'"))+":"+e.id+o+"}",r.push({tag:a,label:l})),e.inputs)if(e.inputs.hasOwnProperty(i)){var s=e.inputs[i];"creditcard"==n&&-1<jQuery.inArray(parseFloat(s.id),[parseFloat(e.id+".2"),parseFloat(e.id+".3"),parseFloat(e.id+".5")])||(a="{"+(l=GetLabel(e,s.id).replace("'","\\'"))+":"+s.id+o+"}",r.push({tag:a,label:l}))}}else a="{"+(l=GetLabel(e).replace("'","\\'"))+":"+e.id+o+"}",r.push({tag:a,label:l});return r},_.getCustomMergeTags=function(){for(groupName in gf_vars.mergeTags)if(gf_vars.mergeTags.hasOwnProperty(groupName)&&"custom"==groupName)return gf_vars.mergeTags[groupName];return[]},this.getAutoCompleteMergeTags=function(e){var t=this.form.fields,r=e.attr("id"),n=1==this.getClassProperty(e,"hide_all_fields"),o=this.getClassProperty(e,"exclude"),a=this.getClassProperty(e,"option"),l=this.getClassProperty(e,"prepopulate");l&&(n=!0);var s=this.getMergeTags(t,r,n,o,l,a),u=[];for(group in s)if(s.hasOwnProperty(group)){var c=s[group].tags;for(i in c)c.hasOwnProperty(i)&&u.push(c[i].tag)}return u},this.getMergeTagListItems=function(e){var t=this.form.fields,r=e.attr("id"),n=1==this.getClassProperty(e,"hide_all_fields"),o=this.getClassProperty(e,"exclude"),a=this.getClassProperty(e,"prepopulate"),l=this.getClassProperty(e,"option");a&&(n=!0);var s=this.getMergeTags(t,r,n,o,a,l),u=this.hasMultipleGroups(s),c=[];for(group in s)if(s.hasOwnProperty(group)){var g=s[group].label,d=s[group].tags;if(!(d.length<=0))for(i in g&&u&&c.push(jQuery('<li class="group-header">'+g+"</li>")),d)if(d.hasOwnProperty(i)){var f=d[i],p=jQuery('<a class="" data-value="'+f.tag+'">'+f.label+"</a>");p.on("click.gravityforms",_.bindMergeTagListClick),c.push(jQuery("<li></li>").html(p))}}return c},this.hasMultipleGroups=function(e){var t=0;for(group in e)e.hasOwnProperty(group)&&0<e[group].tags.length&&t++;return 1<t},_.getClassProperty=function(e,t){var r=(e=jQuery(e)).attr("class");if(!r)return"";var n=r.split(" ");for(i in n)if(n.hasOwnProperty(i)){var o=n[i].split("-");if("mt"==o[0]&&o[1]==t)return 3<o.length?(delete o[0],delete o[1],o):2==o.length||o[2]}return""},_.getTargetElement=function(e){var t=(e=jQuery(e)).parents("span.all-merge-tags").data("targetElement");return jQuery("#"+t.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&"))},_.isWpEditor=function(e){e=jQuery(e);return 1==this.getClassProperty(e,"wp_editor")},_.split=function(e){return e.split(" ")},_.extractLast=function(e){return this.split(e).pop()},_.startsWith=function(e,t){return 0===e.indexOf(t)},_.elem&&_.init()},FeedConditionObj=function(e){this.strings=isSet(e.strings)?e.strings:{},this.logicObject=e.logicObject,this.init=function(){var e=this;gform.addFilter("gform_conditional_object","FeedConditionConditionalObject"),gform.addFilter("gform_conditional_logic_description","FeedConditionConditionalDescription"),jQuery(document).ready(function(){ToggleConditionalLogic(!0,"feed_condition")}),jQuery("input#feed_condition_conditional_logic").parents("form").on("submit",function(){jQuery("input#feed_condition_conditional_logic_object").val(JSON.stringify(e.logicObject))})},this.init()};function SimpleConditionObject(e,t){if(t.indexOf("simple_condition")<0)return e;var i=t.substring(17)+"_object";return window[i]}function FeedConditionConditionalObject(e,t){return"feed_condition"!=t?e:feedCondition.logicObject}function FeedConditionConditionalDescription(e,t,i,r){return"feed_condition"!=i?e:(t.actionType=t.actionType.replace("<select",'<select style="display:none;"'),t.objectDescription=feedCondition.strings.objectDescription,makeArray(t).join(" "))}function makeArray(e){var t=[];for(i in e)t.push(e[i]);return t}function isSet(e){return void 0!==e}